<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Function: EE-Emerge 2021</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
							<header id="header">
								<a href="index.html" class="logo"><strong>EE-Emerge 2021: </strong> Firmware</a>
								<ul class="icons">
									<li><a href="https://github.com/EE-Emerge/EE-Emerge2021_Firmware" class="icon brands fa-github"><span class="label">Twitter</span></a></li>
								</ul>
							</header>

							<!-- Content -->
								<section>
									
									<header class="main">
										<h1>Function</h1>
									</header>
									<h3>The software for this project implements the logic that makes the mask run: controlling fan speed and allowing the user to check battery level.</h3>
									<p></p>
									<p></p>

									<hr class="major" />

									<h2>Block Diagram</h2>
									<span class="image main"><img src="images/blockdiagram.png" alt="" /></span>
									<p>Shown here is the first draft block diagram to outline what the code needs to do.  After a few optimizations, the control flow was updated to the flow chart below.</p>
									<p></p>
										

									<hr class="major" />

									<h2>Flow Chart</h2>
									<span class="image main"><img src="images/flowchart.png" alt="" /></span>
									<p>Once the device turns ON, it continuously polls the battery status button to check if it is pressed: if so, the battery level is displayed.  If the battery level is <span>&#60;</span>15%, the user is alerted through a vibration from a Piezo buzzer, flashing LEDs, and the fan speed being set to low.</p>
									<p>On the left side, there are 2 buttons for controlling fan speed: UP and DOWN. Power is conserved by utilizing hardware interrupts. Rather than the program constantly checking if the increasing and decreasing speed buttons are pressed, a hardware interrupt executes an action (in this case, changing fan speed) only when requested by a button push.</p>

									<hr class="major" />

									<h2>LED Battery-Level System</h2>
									<span class="image main"><img src="images/ledsystem.png" alt="" /></span>
									<p>After much consideration, it was determined that battery level would be displayed through 4 LEDs, as shown above.</p>
									<p>The LEDs are coded to maximize information about the battery through 3 states: on, blinking, or off.  This allows for an intuitive display - the 8 states on the figure inform the user of a fairly accurate battery reading at a glance.</p>

								<h2>Firmware code is available <a href="https://github.com/EE-Emerge/EE-Emerge2021_Firmware/blob/master/Timer_and_hardware_interrupt_test.cpp">here</a>.</h2>	
							</section>

						</div>
					</div>

				<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">

							<!-- Search -->
								<!-- <section id="search" class="alt">
									<form method="post" action="#">
										<input type="text" name="query" id="query" placeholder="Search" />
									</form>
								</section> -->

							<!-- Menu -->
								<nav id="menu">
									<header class="major">
										<h2>Menu</h2>
									</header>
									<ul>
										<li><a href="index.html">Homepage</a></li>
										<li><a href="function.html">Function</a></li>
										<li><a href="team.html">The Team</a></li>
										<li>
											<span class="opener">Other Divisions</span>
											<ul>
												<li><a href="https://ee-emerge.github.io/EE-Emerge2021_Mechanical/">Software</a></li>
												<li><a href="https://ee-emerge.github.io/EE-Emerge2021_TestAndValidation/">Test and Validation</a></li>
												<li><a href="https://ee-emerge.github.io/EE-Emerge2021_Hardware/">Hardware</a></li>
											</ul>
										</li>
									</ul>
								</nav>

							<!-- Section -->

							<!-- Section -->
							<section>
								<header class="major">
									<h2>Contact</h2>
								</header>
								<p>Questions about EE-Emerge should be addressed to Professor Andre Knoesen.</p>
								<ul class="contact">
									<li class="icon solid fa-envelope"><a href="mailto:aknoesen@ucdavis.edu">aknoesen@ucdavis.edu</a></li>
									<li class="icon solid fa-home">545 Bainer Hall Dr.<br />
									Davis, CA 95616</li>
								</ul>
							</section>

						<!-- Footer -->
							<footer id="footer">
								<p>Web Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
							</footer>

						</div>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
